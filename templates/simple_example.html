{% extends "base.html" %}

{% block extra_libraries %}
<script
src="https://code.jquery.com/jquery-3.6.0.min.js"
integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
crossorigin="anonymous"></script>
{% endblock %}


{% block content %}    

    <style>
        #stuff_for_db 
        {
            width: 500px;
        }
    </style>

    <div class="page1024">
        <h1>Simple Example</h1>
        <form id="our_form">
            Text: <input type="text" id="stuff_for_db" name="stuff_for_db" value="This text will be submitted and added to the database" width=180>                
            </input><br><br>
            <input type="button" id="post-btn" value="Submit">
        </form>
    </div>

    <script>
        $(function() {
            $("#post-btn").click(function() {
                $.ajax({
                    method: 'POST',
                    url: 'simple-example-api',
                    data: $("#our_form").serialize(),
                    success: function (response) {
                        alert("Server replied: ", response.status)
                    },
                    error: function (response) {
                        alert("Server error: ", response.status);
                    },
                });
            });
        });
    </script>

{% endblock %}